FROM mcr.microsoft.com/playwright:v1.47.1-focal@sha256:e6aea369c8061d1908223ba4d41d0244720b38f8724c78d84b6ab27d82f5a6c4

COPY package.json package-lock.json .
RUN npm ci

COPY playwright playwright/
COPY soresu-form soresu-form/
COPY va-virkailija va-virkailija/
COPY run_playwright_tests_in_container.sh run_playwright_tests_in_container.sh

ENTRYPOINT ["./run_playwright_tests_in_container.sh"]
