{
  "event_action": "trigger",
  "routing_key": "${env:PAGERDUTY_ROUTING_KEY}",
  "payload": {
    "summary": {
      "$resolver": "pattern",
      "pattern": "%maxLen{%m}{150} %ex{0}"
    },
    "timestamp": {
      "$resolver": "timestamp"
    },
    "source": "valtionavustukset-logs",
    "severity": "error",
    "custom_details": {
      "thread_name": {
        "$resolver": "thread",
        "field": "name"
      },
      "logger_name": {
        "$resolver": "logger",
        "field": "name"
      },
      "stack_trace": {
        "$resolver": "exception",
        "field": "stackTrace",
        "stackTrace": {
          "stringified": true
        }
      },
      "file": {
        "$resolver": "source",
        "field": "fileName"
      }
    }
  }
}
