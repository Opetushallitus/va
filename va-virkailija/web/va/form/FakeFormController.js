export default class FakeFormController {
  constructor(
    customComponentFactory,
    customPreviewComponentFactory,
    avustushaku,
    hakemus
  ) {
    this.customComponentFactory = customComponentFactory;
    this.customPreviewComponentFactory = customPreviewComponentFactory;
    this.avustushaku = avustushaku;
    this.hakemus = hakemus;
  }

  constructHtmlId(fields, fieldId) {
    return fieldId;
  }

  componentDidMount() {}

  getCustomComponentTypeMapping() {
    return this.customComponentFactory
      ? this.customComponentFactory.fieldTypeMapping
      : {};
  }

  createCustomComponent(componentProps) {
    if (!this.customComponentFactory) {
      throw new Error(
        "To create a custom field, supply customComponentFactory to FormController"
      );
    }
    return this.customComponentFactory.createComponent(componentProps);
  }

  getCustomPreviewComponentTypeMapping() {
    return this.customPreviewComponentFactory.fieldTypeMapping;
  }

  createCustomPreviewComponent(componentProps) {
    return this.customPreviewComponentFactory.createComponent(componentProps);
  }

  getCustomComponentProperties() {
    return { avustushaku: this.avustushaku };
  }

  createAttachmentDownloadUrl(state, field) {
    return `/api/avustushaku/${this.avustushaku.id}/hakemus/${this.hakemus.id}/attachments/${field.id}`;
  }

  createAttachmentVersionDownloadUrl(field, attachmentVersion) {
    return `/api/avustushaku/${this.avustushaku.id}/hakemus/${this.hakemus.id}/attachments/${field.id}?attachment-version=${attachmentVersion}`;
  }
}
